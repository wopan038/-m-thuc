<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Food Home</title>

<style>
*{
margin:0;
padding:0;
box-sizing:border-box;
font-family:Arial;
}

body{
background:#111;
color:white;
}

/* ===== NAVBAR ===== */
nav{
display:flex;
justify-content:space-between;
align-items:center;
padding:15px 40px;
background:rgba(0,0,0,0.8);
position:sticky;
top:0;
z-index:10;
}

.logo{
font-size:22px;
font-weight:bold;
color:orange;
}

nav button{
background:orange;
border:none;
padding:8px 15px;
border-radius:8px;
cursor:pointer;
}

/* ===== HERO ===== */
.hero{
height:300px;
background:url("https://media-cdn-v2.laodong.vn/Storage/NewsPortal/2023/9/29/1247753/Am-Thuc-Viet-Nam.jpeg") center/cover;
display:flex;
align-items:center;
justify-content:center;
flex-direction:column;
}

.hero h1{
font-size:40px;
text-shadow:0 0 20px black;
}

.search{
margin-top:15px;
}

.search input{
padding:10px;
width:250px;
border-radius:10px;
border:none;
}

/* ===== ADD FOOD ===== */
.add-box{
width:90%;
max-width:500px;
margin:30px auto;
padding:20px;
background:#1b1b1b;
border-radius:15px;
}

.add-box input, textarea{
width:100%;
padding:10px;
margin-top:10px;
border-radius:10px;
border:none;
background:#2b2b2b;
color:white;
}

.add-box button{
margin-top:15px;
width:100%;
padding:12px;
background:orange;
border:none;
border-radius:10px;
cursor:pointer;
}

/* ===== CARD GRID ===== */
.food-list{
display:grid;
grid-template-columns:repeat(auto-fill,minmax(250px,1fr));
gap:20px;
padding:30px;
}

.card{
background:#1c1c1c;
border-radius:15px;
overflow:hidden;
transition:0.3s;
position:relative;
}

.card:hover{
transform:scale(1.03);
}

.card img{
width:100%;
height:180px;
object-fit:cover;
}

.card-content{
padding:15px;
}

.card h3{
color:orange;
}

.like{
position:absolute;
top:10px;
right:10px;
background:black;
padding:5px 10px;
border-radius:10px;
cursor:pointer;
}
</style>
</head>

<body>

<!-- NAV -->
<nav>
<div class="logo">üçú Food Vi·ªát</div>

<div>
Xin ch√†o: <b id="username"></b>
<button onclick="logout()">Logout</button>
</div>
</nav>


<!-- HERO -->
<div class="hero">
<h1>Kh√°m ph√° ·∫®m th·ª±c Vi·ªát Nam</h1>

<div class="search">
<input id="search" placeholder="T√¨m m√≥n ƒÉn..." onkeyup="renderFoods()">
</div>
</div>


<!-- ADD FOOD -->
<div class="add-box">
<h2>ƒêƒÉng m√≥n ƒÉn m·ªõi</h2>

<input id="foodName" placeholder="T√™n m√≥n">
<input id="foodImg" placeholder="Link ·∫£nh">
<textarea id="foodDesc" placeholder="M√¥ t·∫£"></textarea>

<button onclick="addFood()">ƒêƒÉng m√≥n</button>
</div>


<!-- FOOD LIST -->
<div class="food-list" id="foodList"></div>


<script>

/* ===== CHECK LOGIN ===== */
let user = localStorage.getItem("user");
if(!user){
location.href="loginfood.html";
}

username.innerText = user;


/* ===== LOGOUT ===== */
function logout(){
localStorage.removeItem("user");
location.href="loginfood.html";
}


/* ===== GET FOOD ===== */
function getFoods(){
return JSON.parse(localStorage.getItem("foods") || "[]");
}

function saveFoods(data){
localStorage.setItem("foods", JSON.stringify(data));
}


/* ===== ADD FOOD ===== */
function addFood(){

let name = foodName.value.trim();
let img = foodImg.value.trim();
let desc = foodDesc.value.trim();

if(!name || !img){
alert("Nh·∫≠p ƒë·ªß th√¥ng tin");
return;
}

let foods = getFoods();

foods.unshift({
id:Date.now(),
name,
img,
desc,
likes:0
});

saveFoods(foods);
renderFoods();

foodName.value="";
foodImg.value="";
foodDesc.value="";
}


/* ===== LIKE ===== */
function likeFood(id){

let foods = getFoods();

let f = foods.find(x => x.id === id);
f.likes++;

saveFoods(foods);
renderFoods();
}


/* ===== RENDER ===== */
function renderFoods(){

let keyword = search.value.toLowerCase();

let foods = getFoods().filter(
f => f.name.toLowerCase().includes(keyword)
);

foodList.innerHTML = foods.map(f => `
<div class="card">
<div class="like" onclick="likeFood(${f.id})">‚ù§Ô∏è ${f.likes}</div>
<img src="${f.img}">
<div class="card-content">
<h3>${f.name}</h3>
<p>${f.desc}</p>
</div>
</div>
`).join("");
}

renderFoods();

</script>

</body>
</html>
